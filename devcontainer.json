{
    "name": "BGU SPL Docker Image (Builder)",

    // 1. BUILD:
    // This tells VS Code to build the Dockerfile in this folder
    "build": {
        "dockerfile": "Dockerfile"
    },

    // 2. RUNTIME ARGUMENTS
    // For C/C++ debugging (gdb)
    "runArgs": [
        "--cap-add=SYS_PTRACE",
        "--security-opt",
        "seccomp=unconfined"
    ],

    // 3. VS CODE CUSTOMIZATIONS
    "customizations": {
        "vscode": {
            "settings": {
                "C_Cpp.default.cStandard": "c17",
                "C_Cpp.default.cppStandard": "c++23",
                "python.defaultInterpreterPath": "/usr/bin/python3.12"
            },
            "extensions": [
                "ms-vscode.cpptools-extension-pack",
                "ms-vscode.makefile-tools",
                "vscjava.vscode-java-pack",
                "ms-python.python",
                "mtxr.sqltools",
                "mtxr.sqltools-driver-sqlite",
                "ms-vsliveshare.vsliveshare"
            ]
        }
    },

    // 4. POST-CREATE COMMAND
    // This will run and show its output in the log
    "postCreateCommand": "bash -c 'if [ -f requirements.txt ]; then pip install -r requirements.txt; else echo \"No requirements.txt found, skipping pip install.\"; fi'",

    // 5. USER
    // Connects as the 'spl' user
    "remoteUser": "spl"
}
